[gd_scene format=3 uid="uid://crfems1mcip1j"]

[ext_resource type="Script" uid="uid://wgi348t5ld6t" path="res://script/character_body_2d.gd" id="1_0wfyh"]
[ext_resource type="Texture2D" uid="uid://85u5h50syxfo" path="res://textures/Untitled_Artwork 8.jpg" id="1_o6xl0"]
[ext_resource type="Script" uid="uid://bnetetc138cpl" path="res://scenes/door.gd" id="2_jbj1t"]
[ext_resource type="Texture2D" uid="uid://dy7okepfpjmtw" path="res://textures/Untitled_Artwork 34.png" id="3_o6xl0"]
[ext_resource type="Script" uid="uid://crkvlvixyew1d" path="res://scenes/window.gd" id="4_jkv2x"]
[ext_resource type="Script" uid="uid://ct1q4uaulbven" path="res://scenes/box.gd" id="4_tbgi4"]
[ext_resource type="Script" uid="uid://b3qagmk7n3ui7" path="res://scenes/window2s.gd" id="5_jbj1t"]
[ext_resource type="Texture2D" uid="uid://dwajtwj31w1ri" path="res://textures/Chest.png" id="5_tefeu"]
[ext_resource type="Texture2D" uid="uid://dx76ovyumtvvm" path="res://textures/window-1.png" id="6_muem4"]
[ext_resource type="Texture2D" uid="uid://b41x033ojf4h8" path="res://textures/window-2 2.png" id="7_dp3eg"]
[ext_resource type="AudioStream" uid="uid://b6c1p14bc20p1" path="res://addons/dialogic/Example Assets/sound-effects/typing1.wav" id="7_muem4"]
[ext_resource type="Texture2D" uid="uid://qvo0lnq5d23m" path="res://textures/window-3 2.png" id="8_0ld40"]
[ext_resource type="Script" uid="uid://vmafdn5gfrk4" path="res://scenes/node_2d.gd" id="8_85g3d"]
[ext_resource type="Texture2D" uid="uid://eg3iogc57u5x" path="res://textures/Basic Furniture.png" id="9_choun"]
[ext_resource type="Texture2D" uid="uid://dfkiijeknf2h3" path="res://textures/window-4 2.png" id="9_gqmmt"]
[ext_resource type="Texture2D" uid="uid://d0c4odirp0xwk" path="res://textures/window-5 2.png" id="10_yc10j"]
[ext_resource type="Texture2D" uid="uid://6cbfknoahws0" path="res://textures/window-6 2.png" id="11_jscy8"]

[sub_resource type="AtlasTexture" id="AtlasTexture_tipki"]
atlas = ExtResource("3_o6xl0")
region = Rect2(0, 0, 329, 604)

[sub_resource type="SpriteFrames" id="SpriteFrames_jyhfs"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tipki")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_o6xl0"]
radius = 6.0
height = 18.0

[sub_resource type="SpriteFrames" id="SpriteFrames_y6deb"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_muem4")
}, {
"duration": 1.0,
"texture": ExtResource("7_dp3eg")
}, {
"duration": 1.0,
"texture": ExtResource("8_0ld40")
}, {
"duration": 1.0,
"texture": ExtResource("9_gqmmt")
}, {
"duration": 1.0,
"texture": ExtResource("10_yc10j")
}, {
"duration": 1.0,
"texture": ExtResource("11_jscy8")
}],
"loop": false,
"name": &"close",
"speed": 9.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jscy8"]
size = Vector2(24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_yc10j"]
atlas = ExtResource("5_tefeu")
region = Rect2(192, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_jscy8"]
atlas = ExtResource("5_tefeu")
region = Rect2(144, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_pm3ni"]
atlas = ExtResource("5_tefeu")
region = Rect2(96, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_y6deb"]
atlas = ExtResource("5_tefeu")
region = Rect2(48, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_og1vs"]
atlas = ExtResource("5_tefeu")
region = Rect2(0, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_jbj1t"]
atlas = ExtResource("5_tefeu")
region = Rect2(0, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_muem4"]
atlas = ExtResource("5_tefeu")
region = Rect2(48, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_dp3eg"]
atlas = ExtResource("5_tefeu")
region = Rect2(96, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_0ld40"]
atlas = ExtResource("5_tefeu")
region = Rect2(144, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_gqmmt"]
atlas = ExtResource("5_tefeu")
region = Rect2(192, 0, 48, 48)

[sub_resource type="SpriteFrames" id="SpriteFrames_yc10j"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yc10j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jscy8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pm3ni")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y6deb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_og1vs")
}],
"loop": false,
"name": &"close",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jbj1t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_muem4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dp3eg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0ld40")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gqmmt")
}],
"loop": false,
"name": &"open",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tbgi4"]
size = Vector2(15, 15)

[sub_resource type="AtlasTexture" id="AtlasTexture_2wyq8"]
atlas = ExtResource("9_choun")
region = Rect2(48, 31, 16, 18)

[sub_resource type="SpriteFrames" id="SpriteFrames_vxglm"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2wyq8")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_85g3d"]
size = Vector2(18, 20.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_choun"]
size = Vector2(14, 16)

[node name="Main" type="Node2D" unique_id=1535272162]

[node name="Sprite2D" type="Sprite2D" parent="." unique_id=512899644]
scale = Vector2(0.1, 0.1)
texture = ExtResource("1_o6xl0")

[node name="StaticBody2D" type="StaticBody2D" parent="Sprite2D" unique_id=1190314524]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Sprite2D/StaticBody2D" unique_id=1007799401]
position = Vector2(-0.33333334, 0)
build_mode = 1
polygon = PackedVector2Array(50.33333, 229.99998, 160.33331, 309.99997, 320.3333, 199.99998, 730.33325, 429.99997, 0.3333333, 859.99994, -279.66663, 699.99994, 40.33333, 509.99994, -319.66663, 309.99997, -179.66666, 239.99997, -59.66666, 169.99998)

[node name="Area2D" type="Area2D" parent="Sprite2D" unique_id=201161512]
script = ExtResource("2_jbj1t")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Sprite2D/Area2D" unique_id=895120065]
polygon = PackedVector2Array(719.99994, 439.99997, 719.99994, -99.99999, 499.99994, -219.99998, 489.99994, 299.99997)

[node name="Typing1" type="AudioStreamPlayer" parent="Sprite2D/Area2D" unique_id=286643929]
stream = ExtResource("7_muem4")

[node name="CharacterBody2D" type="CharacterBody2D" parent="." unique_id=1219884377 node_paths=PackedStringArray("animated_sprite") groups=["player"]]
z_index = 99
collision_mask = 3
script = ExtResource("1_0wfyh")
animated_sprite = NodePath("AnimatedSprite2D")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="CharacterBody2D" unique_id=479506299]
position = Vector2(54, 24)
scale = Vector2(0.1, 0.1)
sprite_frames = SubResource("SpriteFrames_jyhfs")
animation = &"idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D" unique_id=1927146417]
position = Vector2(53, 42)
shape = SubResource("CapsuleShape2D_o6xl0")
debug_color = Color(0.8878741, 0.043303974, 0.78874314, 0.41960785)

[node name="Camera2D" type="Camera2D" parent="." unique_id=1394310355]
zoom = Vector2(4, 4)

[node name="window" type="Node" parent="." unique_id=223378063]
script = ExtResource("4_jkv2x")

[node name="Area2D" type="Area2D" parent="window" unique_id=1816373412]
script = ExtResource("5_jbj1t")

[node name="Typing1" type="AudioStreamPlayer" parent="window/Area2D" unique_id=1907557196]
stream = ExtResource("7_muem4")

[node name="WindowAnimation" type="AnimatedSprite2D" parent="window/Area2D" unique_id=81909225]
position = Vector2(-15, -29.999998)
scale = Vector2(0.1, 0.1)
sprite_frames = SubResource("SpriteFrames_y6deb")
animation = &"close"
frame = 5
frame_progress = 1.0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="window/Area2D" unique_id=384204028]
z_index = 10
polygon = PackedVector2Array(-28, -4, -16, -10, -4, -16, -4, -57, -27, -44, -28, -4)

[node name="box" type="Node2D" parent="." unique_id=237266168 node_paths=PackedStringArray("animated_sprite")]
visible = false
position = Vector2(-7, 14)
script = ExtResource("4_tbgi4")
animated_sprite = NodePath("AnimatedBox2D")

[node name="Area2D" type="Area2D" parent="box" unique_id=481517982]
position = Vector2(61, -34)

[node name="CollisionShape2D" type="CollisionShape2D" parent="box/Area2D" unique_id=2070607265]
position = Vector2(0, 5)
shape = SubResource("RectangleShape2D_jscy8")

[node name="AnimatedBox2D" type="AnimatedSprite2D" parent="box" unique_id=924816306]
position = Vector2(61, -34)
sprite_frames = SubResource("SpriteFrames_yc10j")
animation = &"open"

[node name="StaticBody2D" type="StaticBody2D" parent="box" unique_id=2126082668]

[node name="CollisionShape2D" type="CollisionShape2D" parent="box/StaticBody2D" unique_id=450508509]
position = Vector2(61, -34.5)
shape = SubResource("RectangleShape2D_tbgi4")

[node name="dresser" type="Node2D" parent="." unique_id=459091285]
visible = false
script = ExtResource("8_85g3d")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="dresser" unique_id=1927963932]
position = Vector2(-23, -34)
sprite_frames = SubResource("SpriteFrames_vxglm")

[node name="Area2D" type="Area2D" parent="dresser" unique_id=1601072801]

[node name="CollisionShape2D" type="CollisionShape2D" parent="dresser/Area2D" unique_id=1175038452]
position = Vector2(-23, -31.75)
shape = SubResource("RectangleShape2D_85g3d")

[node name="StaticBody2D" type="StaticBody2D" parent="dresser" unique_id=1195779650]

[node name="CollisionShape2D" type="CollisionShape2D" parent="dresser/StaticBody2D" unique_id=772738368]
position = Vector2(-23, -34)
shape = SubResource("RectangleShape2D_choun")

[connection signal="input_event" from="Sprite2D/Area2D" to="Sprite2D/Area2D" method="_on_input_event"]
[connection signal="ready" from="CharacterBody2D" to="CharacterBody2D" method="_on_ready"]
[connection signal="input_event" from="window/Area2D" to="window/Area2D" method="_on_input_event"]
[connection signal="body_entered" from="box/Area2D" to="box" method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="box/Area2D" to="box" method="_on_area_2d_body_exited"]
[connection signal="body_entered" from="dresser/Area2D" to="dresser" method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="dresser/Area2D" to="dresser" method="_on_area_2d_body_exited"]
